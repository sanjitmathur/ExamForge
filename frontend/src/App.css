/* ── Layout ── */
.app-layout { min-height: 100vh; display: flex; flex-direction: column; }
.page { max-width: 1200px; margin: 0 auto; padding: 2rem 1.5rem; width: 100%; flex: 1; }
.page-header { margin-bottom: 2rem; }
.page-header h1 { font-size: 1.85rem; font-weight: 700; color: var(--gray-900); letter-spacing: -0.02em; }
.page-header p { color: var(--gray-500); margin-top: 0.35rem; font-size: 0.95rem; }

/* ── Navbar ── */
.navbar {
  background: white; border-bottom: 1px solid var(--gray-200);
  padding: 0 1.5rem; display: flex; align-items: center; height: 60px;
  position: sticky; top: 0; z-index: 50;
}
.navbar-admin {
  background: linear-gradient(135deg, #f8f7ff 0%, #ffffff 100%);
  border-bottom: 2px solid var(--primary-light);
}
.navbar-brand a {
  font-size: 1.25rem; font-weight: 700; color: var(--primary);
  text-decoration: none;
}
.navbar-links { display: flex; gap: 0.25rem; margin-left: 2rem; }
.navbar-links a {
  padding: 0.5rem 0.75rem; border-radius: var(--radius);
  color: var(--gray-600); font-size: 0.9rem; font-weight: 500; text-decoration: none;
  transition: all 0.15s;
}
.navbar-links a:hover, .navbar-links a.active { color: var(--primary); background: var(--primary-light); }
.navbar-user { margin-left: auto; display: flex; align-items: center; gap: 0.75rem; }
.navbar-user span { font-size: 0.875rem; color: var(--gray-600); }

/* ── Buttons ── */
.btn {
  display: inline-flex; align-items: center; gap: 0.5rem;
  padding: 0.5rem 1rem; border-radius: var(--radius); font-size: 0.875rem;
  font-weight: 500; border: 1px solid transparent; cursor: pointer;
  transition: all 0.2s ease;
}
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-primary { background: var(--primary); color: white; box-shadow: 0 1px 2px rgba(79, 70, 229, 0.3); }
.btn-primary:hover:not(:disabled) { background: var(--primary-hover); box-shadow: 0 2px 4px rgba(79, 70, 229, 0.35); transform: translateY(-1px); }
.btn-danger { background: var(--danger); color: white; }
.btn-danger:hover:not(:disabled) { background: var(--danger-hover); }
.btn-outline {
  background: white; color: var(--gray-700);
  border-color: var(--gray-300);
}
.btn-outline:hover:not(:disabled) { background: var(--gray-50); border-color: var(--gray-400); }
.btn-sm { padding: 0.35rem 0.75rem; font-size: 0.8rem; }
.btn-icon { padding: 0.4rem; }

/* ── Cards ── */
.card {
  background: white; border: 1px solid var(--gray-200);
  border-radius: var(--radius); padding: 1.5rem; box-shadow: var(--shadow);
  transition: box-shadow 0.2s ease;
}

/* ── Stat Cards ── */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(190px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.stat-card {
  background: white; border: 1px solid var(--gray-200); border-radius: var(--radius);
  padding: 1.25rem 1.5rem; box-shadow: var(--shadow); transition: box-shadow 0.2s ease, transform 0.2s ease;
}
.stat-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }
.stat-card-accent { border-left: 4px solid var(--primary); }
.stat-card .stat-label { font-size: 0.78rem; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600; }
.stat-card .stat-value { font-size: 1.85rem; font-weight: 700; color: var(--gray-900); margin-top: 0.25rem; }

/* ── Forms ── */
.form-group { margin-bottom: 1rem; }
.form-group label { display: block; font-size: 0.875rem; font-weight: 500; color: var(--gray-700); margin-bottom: 0.35rem; }
.form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; }
input[type="text"], input[type="email"], input[type="password"], input[type="number"],
select, textarea {
  width: 100%; padding: 0.5rem 0.75rem; border: 1px solid var(--gray-300);
  border-radius: var(--radius); font-size: 0.9rem; font-family: inherit;
  transition: border-color 0.15s;
}
input:focus, select:focus, textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-light); }
textarea { resize: vertical; min-height: 80px; }

/* ── Tables ── */
.table-wrap { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; }
th, td { text-align: left; padding: 0.75rem 1rem; border-bottom: 1px solid var(--gray-200); font-size: 0.875rem; }
th { font-weight: 600; color: var(--gray-600); background: var(--gray-50); text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.04em; }
tbody tr { transition: background 0.15s ease; }
tbody tr:hover td { background: #f0f4ff; }

/* ── Badges ── */
.badge {
  display: inline-block; padding: 0.15rem 0.5rem; border-radius: 9999px;
  font-size: 0.75rem; font-weight: 600;
}
.badge-pending { background: #fef3c7; color: #92400e; }
.badge-extracting, .badge-analyzing, .badge-generating { background: #dbeafe; color: #1e40af; }
.badge-completed { background: #d1fae5; color: #065f46; }
.badge-failed { background: #fee2e2; color: #991b1b; }
.badge-easy { background: #d1fae5; color: #065f46; }
.badge-medium { background: #fef3c7; color: #92400e; }
.badge-hard { background: #fee2e2; color: #991b1b; }
.badge-mcq { background: #e0e7ff; color: #3730a3; }
.badge-short_answer { background: #fce7f3; color: #9d174d; }
.badge-long_answer { background: #ede9fe; color: #5b21b6; }
.badge-fill_blank { background: #ccfbf1; color: #134e4a; }
.badge-true_false { background: #fef9c3; color: #713f12; }

/* ── Login Page ── */
.login-container {
  display: flex; align-items: center; justify-content: center;
  min-height: 100vh; background: var(--gray-50);
}
.login-card {
  background: white; padding: 2.5rem; border-radius: 12px;
  box-shadow: var(--shadow-lg); width: 100%; max-width: 400px;
}
.login-card h1 { font-size: 1.5rem; text-align: center; margin-bottom: 0.25rem; color: var(--gray-900); }
.login-card .subtitle { text-align: center; color: var(--gray-500); margin-bottom: 1.5rem; font-size: 0.9rem; }
.login-card .btn { width: 100%; justify-content: center; padding: 0.65rem; font-size: 0.95rem; }
.login-error { background: #fee2e2; color: #991b1b; padding: 0.5rem 0.75rem; border-radius: var(--radius); font-size: 0.85rem; margin-bottom: 1rem; }
.back-link {
  display: inline-block; margin-bottom: 1rem; color: var(--gray-500);
  text-decoration: none; font-size: 0.85rem;
}
.back-link:hover { color: var(--primary); }

/* ── Role Selector Page ── */
.role-selector { text-align: center; }
.role-selector h1 {
  font-size: 2.1rem; font-weight: 700; margin-bottom: 0.25rem;
  background: linear-gradient(135deg, var(--primary) 0%, var(--admin-accent) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.role-selector .subtitle { color: var(--gray-500); margin-bottom: 2.5rem; font-size: 1rem; }
.role-cards { display: flex; gap: 1.5rem; }
.role-card {
  background: white; border: 1px solid var(--gray-200); border-radius: 12px;
  padding: 2.25rem 1.75rem; width: 230px; text-align: center; text-decoration: none;
  box-shadow: var(--shadow-md); transition: all 0.25s ease; cursor: pointer;
}
.role-card:hover { border-color: var(--primary); box-shadow: var(--shadow-lg); transform: translateY(-4px); }
.role-icon { font-size: 2.5rem; margin-bottom: 0.75rem; }
.role-card h2 { font-size: 1.1rem; color: var(--gray-900); margin-bottom: 0.5rem; }
.role-card p { font-size: 0.8rem; color: var(--gray-500); line-height: 1.4; }

/* ── Auth Tabs ── */
.auth-tabs {
  display: flex; border-bottom: 2px solid var(--gray-200); margin-bottom: 1.5rem;
}
.auth-tab {
  flex: 1; padding: 0.6rem; border: none; background: none; cursor: pointer;
  font-size: 0.9rem; font-weight: 500; color: var(--gray-500);
  border-bottom: 2px solid transparent; margin-bottom: -2px; transition: all 0.15s;
}
.auth-tab.active { color: var(--primary); border-bottom-color: var(--primary); }
.auth-tab:hover:not(.active) { color: var(--gray-700); }

/* ── Admin Dashboard ── */
.badge-admin { background: #e0e7ff; color: #3730a3; }
.badge-user { background: #d1fae5; color: #065f46; }
.admin-feedback-success { background: #d1fae5; color: #065f46; padding: 0.5rem 0.75rem; border-radius: var(--radius); font-size: 0.85rem; }
.reset-password-inline { display: flex; align-items: center; gap: 0.5rem; }

/* ── Upload Area ── */
.upload-area {
  border: 2px dashed var(--gray-300); border-radius: var(--radius);
  padding: 2rem; text-align: center; cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
}
.upload-area:hover { border-color: var(--primary); background: var(--primary-light); }
.upload-area.dragging { border-color: var(--primary); background: var(--primary-light); }
.upload-area p { color: var(--gray-500); margin-top: 0.5rem; font-size: 0.85rem; }

/* ── Filters ── */
.filter-bar { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 1.5rem; align-items: flex-end; }
.filter-bar .form-group { margin-bottom: 0; min-width: 150px; }
.filter-bar select { padding: 0.4rem 0.5rem; font-size: 0.85rem; }

/* ── Question Cards ── */
.question-card { border: 1px solid var(--gray-200); border-radius: var(--radius); padding: 1rem 1.25rem; margin-bottom: 0.75rem; background: white; }
.question-card .question-meta { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.5rem; }
.question-card .question-text { font-size: 0.9rem; line-height: 1.5; }

/* ── Chat Layout ── */
.paper-view { display: grid; grid-template-columns: 1fr 380px; gap: 1.5rem; height: calc(100vh - 140px); }
.paper-preview { overflow-y: auto; padding: 1.5rem; background: white; border: 1px solid var(--gray-200); border-radius: var(--radius); }
.paper-preview h1 { font-size: 1.5rem; }
.paper-preview h2 { font-size: 1.25rem; margin-top: 1rem; }
.paper-preview h3 { font-size: 1.1rem; margin-top: 0.75rem; }
.paper-preview p { margin: 0.5rem 0; }
.paper-preview ol, .paper-preview ul { margin-left: 1.5rem; }

.chat-sidebar {
  display: flex; flex-direction: column; background: white;
  border: 1px solid var(--gray-200); border-radius: var(--radius); overflow: hidden;
}
.chat-header { padding: 0.75rem 1rem; border-bottom: 1px solid var(--gray-200); font-weight: 600; font-size: 0.9rem; }
.chat-messages { flex: 1; overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem; }
.chat-msg { max-width: 90%; padding: 0.6rem 0.8rem; border-radius: var(--radius); font-size: 0.85rem; line-height: 1.4; }
.chat-msg.user { align-self: flex-end; background: var(--primary); color: white; }
.chat-msg.assistant { align-self: flex-start; background: var(--gray-100); color: var(--gray-800); }
.chat-input { display: flex; gap: 0.5rem; padding: 0.75rem; border-top: 1px solid var(--gray-200); }
.chat-input input { flex: 1; }

/* ── Preview Toggle ── */
.toggle-group { display: inline-flex; border: 1px solid var(--gray-300); border-radius: var(--radius); overflow: hidden; margin-bottom: 1rem; }
.toggle-group button {
  padding: 0.4rem 1rem; border: none; background: white;
  font-size: 0.85rem; cursor: pointer; color: var(--gray-600);
}
.toggle-group button.active { background: var(--primary); color: white; }

/* ── Export Buttons ── */
.export-buttons { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }

/* ── Empty State ── */
.empty-state { text-align: center; padding: 3rem 1rem; color: var(--gray-400); }
.empty-state p { font-size: 1rem; }

/* ── Spinner ── */
.spinner { display: inline-block; width: 1.25rem; height: 1.25rem; border: 2px solid var(--gray-300); border-top-color: var(--primary); border-radius: 50%; animation: spin 0.6s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* ── Grid layouts ── */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
@media (max-width: 768px) {
  .grid-2 { grid-template-columns: 1fr; }
  .paper-view { grid-template-columns: 1fr; height: auto; }
  .form-row { grid-template-columns: 1fr; }
  .role-cards { flex-direction: column; align-items: center; }
}
